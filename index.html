<html>

<style>

    /*
    This was helpful in getting the grid part working better.
    https://medium.com/cloudaper/how-to-create-a-flexible-square-grid-with-css-grid-layout-ea48baf038f3 
     */
    :root {
        --main-bkg-color: #eee;
        --columnNum: 2;
    }

    .wrapper {
        display: grid;
        background-color: darkred;
        border: 4px solid black;
        width: 50%;
        grid-template-columns: repeat(var(--columnNum), auto);
    

    }

    div.wrapper {
        padding: 1em;
    }

    .cell {
        background: var(--main-bkg-color);
        border: 1px solid black;
    }

    .grid {
        display: grid;
        /* grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr)); */
        grid-template-columns: repeat(var(--columnNum), 1fr);
        grid-auto-rows: 1fr;
    }

    .grid::before {
        content: '';
        width: 0;
        padding-bottom: 100%;
        grid-row: 1 / 1;
        grid-column: 1 / 1;
    }

    .grid>*:first-child {
        grid-row: 1 / 1;
        grid-column: 1 / 1;
    }

    /* Just to make the grid visible */

    .grid>* {
        background: rgba(0, 0, 0, 0.1);
        border: 1px white solid;
    }
</style>

<body>
    <div id="header">
        <button id="reset-button" onclick="resetBoard()">Reset</button>
    </div>

    <div class="wrapper grid" id="wrapper">

    </div>
</body>

<script>
    function resetBoard() {

        var _elems = document.querySelectorAll('.cell');

        [].forEach.call(_elems, function (el) {
            el.style.backgroundColor = 'white';
        });

    }

    const applyColorTool = (element) => {
        element.style.backgroundColor = 'black';
    };

    function init() {

        const _num = prompt('How big should the board be?', '16');

        const wrapper = document.getElementById('wrapper');

        let _styles = window.getComputedStyle(document.querySelector("html"));
        let rowNum = parseInt(_styles.getPropertyValue("--columnNum"));

        document.documentElement.style.setProperty("--columnNum", _num);

        for (var i = 0; i < _num * _num; i++) {

            var cell = document.createElement('div');

            cell.id = 'cell';
            cell.classList.add('cell');

            wrapper.appendChild(cell);
        }

        wrapper.addEventListener('mouseover', (e) => {
            if (e.target.classList.contains('cell')) {
                applyColorTool(e.target);
            }
        });

        resetBoard();
    }

    init();
</script>

</html>